<!DOCTYPE html>
<html
	data-bs-theme="auto"
>
	<head>
		<meta charset="utf-8">

		<title>Range extension - SFZ Format</title>

		<meta name="author" content="Karoryfer Samples and SFZ Format Team">
		<meta name="web-author" content="RedTide and SFZ Format Team">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<script src="/assets/js/color-modes.js"></script>

		<!-- Atom Feeds -->
		<link href="/atom.xml" rel="alternate" type="application/atom+xml" />

		<!-- Favicon Generator Icons -->
		<link rel="apple-touch-icon" sizes="152x152" href="/assets/ico/apple-touch-icon.png">
		<link rel="icon" type="image/png" sizes="32x32" href="/assets/ico/favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="16x16" href="/assets/ico/favicon-16x16.png">
		<link rel="manifest" href="/assets/ico/site.webmanifest">
		<link rel="mask-icon" href="/assets/ico/safari-pinned-tab.svg" color="#5bbad5">
		<link rel="shortcut icon" href="/assets/ico/favicon.ico">
		<meta name="msapplication-TileColor" content="#da532c">
		<meta name="msapplication-config" content="/assets/ico/browserconfig.xml">
		<meta name="theme-color" content="#ffffff">

		<!-- Stylesheets -->
		<link href="/assets/css/style.min.css" rel="stylesheet" media="screen">
		<link
			href="https://cdnjs.cloudflare.com/ajax/libs/ekko-lightbox/5.3.0/ekko-lightbox.css"
			rel="stylesheet"
		>
	<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/highlight.js@11.8.0/styles/github.min.css"
			disabled="disabled"
			id="hljs_light"
		/>
		<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/highlight.js@11.8.0/styles/github-dark-dimmed.min.css"
			disabled="disabled"
			id="hljs_dark"
		/>

		<!-- Font Awesome Icons -->
		<script defer src="https://use.fontawesome.com/releases/v5.11.2/js/solid.js"       integrity="sha384-Mf3ap7OwO+bjTkzM1RsrothLh38uKXvMWJ2TQPXGHqZcqfeI/cyCV+sfV0IDnBDq" crossorigin="anonymous"></script>
		<script defer src="https://use.fontawesome.com/releases/v5.11.2/js/brands.js"      integrity="sha384-b2GpqFrJizV0BUEdbrITdOA5HnxnlrErt7MlEERWd6NSJ32rHeibEvyyCuA13OAS" crossorigin="anonymous"></script>
		<script defer src="https://use.fontawesome.com/releases/v5.11.2/js/fontawesome.js" integrity="sha384-EYYaHDhIRoBhd/Ir/1fPnxg9rZLk/55lKtlNT5KrIcONoCS2kjf7ZWzMoCLLACeo" crossorigin="anonymous"></script>

	</head>

	<body>

		<button onclick="topFunction()" id="scrollButton" title="Go to top">Top</button>
		<div class="container">


			<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
				<symbol id="sun-fill" viewBox="0 0 16 16">
					<path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"/>
				</symbol>
				<symbol id="moon-stars-fill" viewBox="0 0 16 16">
					<path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"/>
					<path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"/>
				</symbol>
				<symbol id="circle-half" viewBox="0 0 16 16">
					<path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"/>
				</symbol>
				<symbol id="check2" viewBox="0 0 16 16">
					<path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"/>
				</symbol>
			</svg>

			<nav
				class="navbar navbar-expand-lg bg-dark" text-bg-dark
				data-bs-theme="dark"
			>
				<div class="container">

					<button
						class="navbar-toggler"
						type="button"
						data-bs-toggle="collapse"
						data-bs-target="#navbarContent"
						aria-controls="navbarContent"
						aria-expanded="false"
						aria-label="Toggle navigation"
					>
						<span class="navbar-toggler-icon"></span>
					</button>

					<a
						class="navbar-brand"
						href="/"
					>
						<img
							src="/assets/img/logo.png"
							width="120" height="30" class="d-inline-block align-top" alt=""
						/></a>

					<div class="collapse navbar-collapse" id="navbarContent">
						<ul class="navbar-nav me-auto mt-2 mt-lg-0">
								
							<li class="nav-item dropdown">
								<a
									class="nav-link dropdown-toggle"
									href="#"
									id="navbarSyntax"
									role="button"
									data-bs-toggle="dropdown"
									aria-expanded="false"
									aria-haspopup="true"
								>Syntax
								</a>
								<ul
									class="dropdown-menu"
									aria-labelledby="navbarSyntax"
								>
									<li>
										<a class="dropdown-item"
											href="/headers/"
										>
											Headers
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/opcodes/"
										>
											Opcodes
										</a>
									</li>
									<div class="dropdown-divider"></div>
									<li>
										<a class="dropdown-item"
											href="/modulations/"
										>
											Modulations
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/modulations/envelope_generators"
										>
											Envelope Generators
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/modulations/lfo"
										>
											LFO
										</a>
									</li>
									<div class="dropdown-divider"></div>
									<li>
										<a class="dropdown-item"
											href="/extensions/midi_ccs"
										>
											Extended MIDI CCs
										</a>
									</li>
									<div class="dropdown-divider"></div>
									<li>
										<a class="dropdown-item"
											href="/misc/categories"
										>
											Types & Categories
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/versions"
										>
											Versions
										</a>
									</li>
								</ul>
							</li>
								
							<li class="nav-item dropdown">
								<a
									class="nav-link dropdown-toggle"
									href="#"
									id="navbarSoftware"
									role="button"
									data-bs-toggle="dropdown"
									aria-expanded="false"
									aria-haspopup="true"
								>Software
								</a>
								<ul
									class="dropdown-menu"
									aria-labelledby="navbarSoftware"
								>
									<li>
										<a class="dropdown-item"
											href="/software/players"
										>
											Players
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/software/tools"
										>
											Tools
										</a>
									</li>
								</ul>
							</li>
								
							<li class="nav-item dropdown">
								<a
									class="nav-link dropdown-toggle"
									href="#"
									id="navbarTutorials"
									role="button"
									data-bs-toggle="dropdown"
									aria-expanded="false"
									aria-haspopup="true"
								>Tutorials
								</a>
								<ul
									class="dropdown-menu"
									aria-labelledby="navbarTutorials"
								>
									<li>
										<a class="dropdown-item"
											href="/tutorials/basics"
										>
											Basics
										</a>
									</li>
									<div class="dropdown-divider"></div>
									<li>
										<a class="dropdown-item"
											href="/tutorials/basic_sfz_file"
										>
											Basic / Template
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/sustained_note_basics"
										>
											Sustained Note Basics
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/vibrato"
										>
											Vibrato
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/legato"
										>
											Legato
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/unison"
										>
											Unison
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/range_extension"
										>
											Range Extension
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/modular_instruments"
										>
											Modular Instruments
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/subtractive_synths"
										>
											Subtractive Synthesizers
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/strum"
										>
											Strumming
										</a>
									</li>
									<div class="dropdown-divider"></div>
									<li>
										<a class="dropdown-item"
											href="/tutorials/drum_basics"
										>
											Drum & Round Robin Basics
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/cymbal_muting"
										>
											Cymbal Muting
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/epic_drums"
										>
											Epic Drums
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/brush_stirs"
										>
											Brush Stirs
										</a>
									</li>
									<div class="dropdown-divider"></div>
									<li>
										<a class="dropdown-item"
											href="/tutorials/envelope_generators"
										>
											Envelope Generators
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/sfz1_modulations"
										>
											SFZ 1 Modulations
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/sfz2_modulations"
										>
											SFZ 2 Modulations
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/lfo"
										>
											Pitch LFO Examples
										</a>
									</li>
									<div class="dropdown-divider"></div>
									<li>
										<a class="dropdown-item"
											href="/tutorials/videos"
										>
											Video Tutorials
										</a>
									</li>
								</ul>
							</li>
							<li class="nav-item">
								<a
									class="nav-link"
									href="https://sfzinstruments.github.io"
								>
									Instruments
								</a>
							</li>
							<li class="nav-item">
								<a
									class="nav-link"
									href="/news"
								>
									News
								</a>
							</li>
						</ul>
						<ul class="navbar-nav">
							<li class="nav-item">
								<a class="nav-link"
									href="/search/">
									Search</a>
							</li>
							<li class="nav-item dropdown">
								<button
									class="btn btn-link nav-link py-2 px-0 px-lg-2 dropdown-toggle d-flex align-items-center"
									id="bd-theme"
									type="button"
									aria-expanded="false"
									data-bs-toggle="dropdown"
									data-bs-display="static"
									aria-label="Toggle theme (auto)">
									<svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg>
									<span class="d-lg-none ms-2" id="bd-theme-text">Toggle theme</span>
								</button>
								<ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text">
									<li>
										<button
											type="button"
											class="dropdown-item d-flex align-items-center"
											data-bs-theme-value="light"
											aria-pressed="false">
											<svg class="bi me-2 opacity-50 theme-icon"><use href="#sun-fill"></use></svg>
											Light
											<svg class="bi ms-auto d-none"><use href="#check2"></use></svg>
										</button>
									</li>
									<li>
										<button
											type="button"
											class="dropdown-item d-flex align-items-center"
											data-bs-theme-value="dark"
											aria-pressed="false">
											<svg class="bi me-2 opacity-50 theme-icon"><use href="#moon-stars-fill"></use></svg>
											Dark
											<svg class="bi ms-auto d-none"><use href="#check2"></use></svg>
										</button>
									</li>
									<li>
										<button
											type="button"
											class="dropdown-item d-flex align-items-center active"
											data-bs-theme-value="auto"
											aria-pressed="true">
											<svg class="bi me-2 opacity-50 theme-icon"><use href="#circle-half"></use></svg>
											Auto
											<svg class="bi ms-auto d-none"><use href="#check2"></use></svg>
										</button>
									</li>
								</ul>
							</li>
						</ul>
					</div>
				</div>
			</nav>

			<div class="row mt-4" id="content">
				<div class="col-md-9">
					<article><h1>Range extension</h1><p>This tutorial describes how to extend the range of an instrument which does not
have samples for all notes in the desired range. This is not complicated, but
there are some downsides to doing it the simple way. Things work the same way
when extending up or down. When there are intermediate pitches missing, for
example when an instrument is sampled every minor third or every octave, there
won’t be much choice, though if round robins are available the last approach
can prove useful.</p>
      <h2 id="simple-extension-of-closest-avaialble-sample">
        
        
          Simple extension of closest avaialble sample <a href="#simple-extension-of-closest-avaialble-sample" class="toc-anchor">#</a>
        
        
      </h2>

<p>Let’s say we have only one sampled violin section with the following map, and
we want to be able to play the notes for another octave above the highest
currently avaialble note.</p>

<pre><code>&lt;region&gt;sample=c4.wav key=48
&lt;region&gt;sample=db4.wav key=49
&lt;region&gt;sample=d4.wav key=50
&lt;region&gt;sample=eb4.wav key=51
&lt;region&gt;sample=e4.wav key=52
&lt;region&gt;sample=f4.wav key=53
&lt;region&gt;sample=gb4.wav key=54
&lt;region&gt;sample=g4.wav key=55
&lt;region&gt;sample=ab4.wav key=56
&lt;region&gt;sample=a4.wav key=57
&lt;region&gt;sample=bb4.wav key=58
&lt;region&gt;sample=b4.wav key=59
&lt;region&gt;sample=c5.wav key=60
</code></pre>

<p>The simplest way is to just stretch the highest note. Using
lokey, hikey and pitch_keycenter as separate opcodes is 
better than using key and transpose, as it allows one region
to cover a wide range of pitches.</p>

<pre><code>&lt;region&gt;sample=c5.wav lokey=60 hikey=72 pitch_keycenter=60
</code></pre>

<p>Note that ARIA will produce no sound if asked to transpose
a sample more than four octaves up - if that is needed,
create some extra copies of the samples and transpose them
in an audio editor. This accounts for transposition, pitch
bend and any other tuning adjustments, so if an octave of
pitch bend is needed, the maximum effectively avaialable
transpotition becomes an octave less. There is no similar
limitation with downward transposition, though.</p>
    
      <h2 id="filling-in-missing-pitches">
        
        
          Filling in missing pitches <a href="#filling-in-missing-pitches" class="toc-anchor">#</a>
        
        
      </h2>

<p>In the above case, the range is being stretched upwards, but
the same principle applies if there are notes missing within
the range, whether due to recording errors, or the limitations
of instruments which can’t produce all notes of the chromatic
scale.</p>

<p>Let’s say we have a simple pentatonic xylophone.</p>

<pre><code>&lt;region&gt;sample=c4.wav key=48
&lt;region&gt;sample=d4.wav key=50
&lt;region&gt;sample=f4.wav key=53
&lt;region&gt;sample=g4.wav key=55
&lt;region&gt;sample=a4.wav key=57
&lt;region&gt;sample=c5.wav key=60
&lt;region&gt;sample=d5.wav key=62
&lt;region&gt;sample=f5.wav key=65
&lt;region&gt;sample=g5.wav key=67
&lt;region&gt;sample=a5.wav key=69
&lt;region&gt;sample=c6.wav key=72
</code></pre>

<p>This would work similar as above, covering every
pitch with the nearest available note. Whether
to stretch up or down when there are two equally
distant notes available is a judgment call. It might
be worth trying both to see which sounds best.
The below example goes up and doesn’t extend the range
beyond the highest or lowest available sample, only
fills in the gaps.</p>

<pre><code>&lt;region&gt;sample=c4.wav lokey=48 hikey=49 pitch_keycenter=48
&lt;region&gt;sample=d4.wav lokey=50 hikey=51 pitch_keycenter=50
&lt;region&gt;sample=f4.wav lokey=52 hikey=54 pitch_keycenter=53
&lt;region&gt;sample=g4.wav lokey=55 hikey=56 pitch_keycenter=55
&lt;region&gt;sample=a4.wav lokey=57 hikey=58 pitch_keycenter=57
&lt;region&gt;sample=c5.wav lokey=59 hikey=61 pitch_keycenter=59
&lt;region&gt;sample=d5.wav lokey=62 hikey=63 pitch_keycenter=62
&lt;region&gt;sample=f5.wav lokey=64 hikey=66 pitch_keycenter=65
&lt;region&gt;sample=g5.wav lokey=67 hikey=68 pitch_keycenter=67
&lt;region&gt;sample=a5.wav lokey=69 hikey=70 pitch_keycenter=69
&lt;region&gt;sample=c6.wav lokey=71 hikey=72 pitch_keycenter=72
</code></pre>
    
      <h2 id="alternating-several-samples">
        
        
          Alternating several samples <a href="#alternating-several-samples" class="toc-anchor">#</a>
        
        
      </h2>

<p>The above is good enough in a lot of cases, though it might
become obviously audible that the entire top octave uses
the same sample. We could use the top two or three samples
instead, and alternate them like this:</p>

<pre><code>&lt;region&gt;sample=c5.wav key=60
&lt;region&gt;sample=bb4.wav lokey=61 hikey=61 pitch_keycenter=58
&lt;region&gt;sample=b4.wav lokey=62 hikey=62 pitch_keycenter=59
&lt;region&gt;sample=c5.wav lokey=63 hikey=63 pitch_keycenter=60
&lt;region&gt;sample=bb4.wav lokey=64 hikey=64 pitch_keycenter=58
&lt;region&gt;sample=b4.wav lokey=65 hikey=65 pitch_keycenter=59
&lt;region&gt;sample=c5.wav lokey=66 hikey=66 pitch_keycenter=60
</code></pre>

<p>…and so on, continuing to the highest desired note.</p>
    
      <h2 id="using-different-round-robins">
        
        
          Using different round robins <a href="#using-different-round-robins" class="toc-anchor">#</a>
        
        
      </h2>

<p>However, in the above case, notes a minor third apart will
still use the same sample, and there’s a minor third interval
in both minor and major triads. There might not be a good way
to get around this with the sample set we have above, but if we
have two round robins, we could do something like this:</p>

<pre><code>&lt;group&gt;
seq_length=2
&lt;region&gt;sample=c4_rr1.wav key=48
&lt;region&gt;sample=db4_rr1.wav key=49
&lt;region&gt;sample=d4_rr1.wav key=50
&lt;region&gt;sample=eb4_rr1.wav key=51
&lt;region&gt;sample=e4_rr1.wav key=52
&lt;region&gt;sample=f4_rr1.wav key=53
&lt;region&gt;sample=gb4_rr1.wav key=54
&lt;region&gt;sample=g4_rr1.wav key=55
&lt;region&gt;sample=ab4_rr1.wav key=56
&lt;region&gt;sample=a4_rr1.wav key=57
&lt;region&gt;sample=bb4_rr1.wav key=58
&lt;region&gt;sample=b4_rr1.wav key=59
&lt;region&gt;sample=c5_rr1.wav key=60
&lt;region&gt;sample=bb4_rr2.wav lokey=61 hikey=61 pitch_keycenter=58
&lt;region&gt;sample=b4_rr2.wav lokey=62 hikey=62 pitch_keycenter=59
&lt;region&gt;sample=c5_rr2.wav lokey=63 hikey=63 pitch_keycenter=60
&lt;region&gt;sample=bb4_rr1.wav lokey=64 hikey=64 pitch_keycenter=58
&lt;region&gt;sample=b4_rr1.wav lokey=65 hikey=65 pitch_keycenter=59
&lt;region&gt;sample=c5_rr1.wav lokey=66 hikey=66 pitch_keycenter=60
&lt;region&gt;sample=bb4_rr2.wav lokey=67 hikey=67 pitch_keycenter=58
&lt;region&gt;sample=b4_rr2.wav lokey=68 hikey=68 pitch_keycenter=59
&lt;region&gt;sample=c5_rr2.wav lokey=69 hikey=69 pitch_keycenter=60
&lt;region&gt;sample=bb4_rr1.wav lokey=70 hikey=70 pitch_keycenter=58
&lt;region&gt;sample=b4_rr1.wav lokey=71 hikey=71 pitch_keycenter=59
&lt;region&gt;sample=c5_rr1.wav lokey=72 hikey=72 pitch_keycenter=60

&lt;group&gt;
seq_length=2
seq_position=2
&lt;region&gt;sample=c4_rr2.wav key=48
&lt;region&gt;sample=db4_rr2.wav key=49
&lt;region&gt;sample=d4_rr2.wav key=50
&lt;region&gt;sample=eb4_rr2.wav key=51
&lt;region&gt;sample=e4_rr2.wav key=52
&lt;region&gt;sample=f4_rr2.wav key=53
&lt;region&gt;sample=gb4_rr2.wav key=54
&lt;region&gt;sample=g4_rr2.wav key=55
&lt;region&gt;sample=ab4_rr2.wav key=56
&lt;region&gt;sample=a4_rr2.wav key=57
&lt;region&gt;sample=bb4_rr2.wav key=58
&lt;region&gt;sample=b4_rr2.wav key=59
&lt;region&gt;sample=c5_rr2.wav key=60
&lt;region&gt;sample=bb4_rr1.wav lokey=61 hikey=61 pitch_keycenter=58
&lt;region&gt;sample=b4_rr1.wav lokey=62 hikey=62 pitch_keycenter=59
&lt;region&gt;sample=c5_rr1.wav lokey=63 hikey=63 pitch_keycenter=60
&lt;region&gt;sample=bb4_rr2.wav lokey=64 hikey=64 pitch_keycenter=58
&lt;region&gt;sample=b4_rr2.wav lokey=65 hikey=65 pitch_keycenter=59
&lt;region&gt;sample=c5_rr2.wav lokey=66 hikey=66 pitch_keycenter=60
&lt;region&gt;sample=bb4_rr1.wav lokey=67 hikey=67 pitch_keycenter=58
&lt;region&gt;sample=b4_rr1.wav lokey=68 hikey=68 pitch_keycenter=59
&lt;region&gt;sample=c5_rr1.wav lokey=69 hikey=69 pitch_keycenter=60
&lt;region&gt;sample=bb4_rr2.wav lokey=70 hikey=70 pitch_keycenter=58
&lt;region&gt;sample=b4_rr2.wav lokey=71 hikey=71 pitch_keycenter=59
&lt;region&gt;sample=c5_rr2.wav lokey=72 hikey=72 pitch_keycenter=60
</code></pre>

<p>This is obviously much more complicated than the simple version
we started with, and the extra complexity might not be worth it
in many cases, but if needed things can be done this way.</p>
    
      <h2 id="recording-extra-notes">
        
        
          Recording extra notes <a href="#recording-extra-notes" class="toc-anchor">#</a>
        
        
      </h2>

<p>In cases where it’s very important to avoid using the same
sample too many times, it’s possible to start addressing this
at the recording stage, and record additional samples of the notes
which will need to be stretched. Of course this could be more
work than just recording the target pitches in the first place,
but if the pitches are difficult to produce consistently (for 
example are notes that a singer can hit only with considerable
strain) or just physically fall outside the range, it may be a
viable option.</p>
    
      <h2 id="true-legato-samples">
        
        
          True legato samples. <a href="#true-legato-samples" class="toc-anchor">#</a>
        
        
      </h2>

<p>Extending the range with true legato samples requires extending the range
for both the previous note (the sw_previous values) and the new note
(the lokey/hikey values). Here is a process which has worked in practice
for extending the range of a legato instrument upwards by a major second:</p>

<ul>
  <li>Copy regions with the key to be extended. Add the amount of shift (3 if taking the second-highest and third-lowest note and extending the range by a major second) to sw_previous, lokey and hikey to the copy.</li>
  <li>Copy regions with the sw_previous to be extended except those already copied in the previous step. Likewise add the amount of shift to sw_previous, lokey and hikey to the copy.</li>
  <li>Delete the regions with sw_previous above the new max range (or could try avoiding copying them in the first step, but this way is probably safer).</li>
  <li>Add in regions going from the bottom three values of sw_previous to the new notes. This is where some sort of defaults, as mentioned above, will be needed.</li>
  <li>Add regions going from the new extended notes to the bottom three pitches, as above.</li>
</ul>

<p>Note that there will be no legato samples covering the widest intervals
from the extended notes to the farthest notes on the other side. If the
instrument has legato samples only recorded within a certain range (for
example only for intervals up to an octave), this isn’t going to create
any additional problems that didn’t already have to be solved when making
the non-extended legato instruments - so whether defaulting to the
largest interval sampled, triggering a regular sustain or just producing
no sound at all, just do the same when there’s no interval wide enough
for a leap to or from an extended note. If an instrument does have every
possible note transition in its range sampled, however (quite possible
for instruments with a small range, such as rebab), the same
compromises are available for the missing intervals in the extended range.</p>
					</article>
				</div>
				<div class="col-md-3">
					<aside>

	
						<div class="card mb-3">
							<div class="card-header bg-dark text-bg-dark">
								<i class="fas fa-eye"
									aria-hidden="true"></i>
								Follow us
							</div>
							<div class="card-body" style="padding: 0.5rem">
								<ul class="nav nav-pills flex-column">
									<li class="nav-item">
										<a class="nav-link" href="https://discord.gg/t7nrZ6d"
											title="Discord Chat" style="padding: 0.35rem 0.25rem">
										<i class="fab fa-discord fa-fw"
										aria-hidden="true"></i>
										Discord Chat</a>
									</li>
									<li class="nav-item">
										<a class="nav-link" href="https://kiwiirc.com/nextclient/#irc://irc.libera.chat:+6697/#sfzformat"
											title="Internet Relay Chat" style="padding: 0.35rem 0.25rem">
										<i class="fas fa-hashtag fa-fw"
										aria-hidden="true"></i>
										IRC</a>
									</li>
									<li class="nav-item">
										<a class="nav-link" href="https://github.com/sfzformat/"
											title="GitHub Organization" style="padding: 0.35rem 0.25rem">
										<i class="fab fa-github fa-fw"
										aria-hidden="true"></i>
										GitHub Organization</a>
									</li>
									<li class="nav-item">
										<a class="nav-link" href="/atom.xml"
											title="News Atom Feed" style="padding: 0.35rem 0.25rem">
										<i class="fas fa-rss fa-fw"
										aria-hidden="true"></i>
										News Atom Feed</a>
									</li>
								</ul>
							</div>
						</div>
						<div class="card mb-3">
							<div class="card-header bg-dark text-bg-dark">
								<i class="fas fa-link"
									aria-hidden="true"></i>
								Quick links
							</div>
							<div class="card-body" style="padding: 0.5rem">
								<ul class="nav nav-pills flex-column">
									<li class="nav-item">
										<a class="nav-link" href="/legacy"
											title="Old rgc:audio SFZ page" style="padding: 0.35rem 0.25rem">
										<i class="fas fa-book fa-fw"
										aria-hidden="true"></i>
										Old rgc:audio SFZ page</a>
									</li>
									<li class="nav-item">
										<a class="nav-link" href="http://www.drealm.info/sfz/"
											title="Peter L. Jones' SFZ page" style="padding: 0.35rem 0.25rem">
										<i class="fas fa-book fa-fw"
										aria-hidden="true"></i>
										Peter L. Jones' SFZ page</a>
									</li>
									<li class="nav-item">
										<a class="nav-link" href="https://www.kvraudio.com/forum/viewtopic.php?f=42&t=508861"
											title="KVR Forum SFZ post" style="padding: 0.35rem 0.25rem">
										<i class="fas fa-users fa-fw"
										aria-hidden="true"></i>
										KVR Forum SFZ post</a>
									</li>
									<li class="nav-item">
										<a class="nav-link" href="https://www.plogue.com/plgfrms/viewforum.php?f=14"
											title="Plogue Forum" style="padding: 0.35rem 0.25rem">
										<i class="fas fa-users fa-fw"
										aria-hidden="true"></i>
										Plogue Forum</a>
									</li>
									<li class="nav-item">
										<a class="nav-link" href="https://github.com/sfz/tests/"
											title="rgc:audio SFZ test suite" style="padding: 0.35rem 0.25rem">
										<i class="fas fa-download fa-fw"
										aria-hidden="true"></i>
										rgc:audio SFZ test suite</a>
									</li>
									<li class="nav-item">
										<a class="nav-link" href="https://github.com/sfz/opcode-suggestions/"
											title="Opcode suggestions" style="padding: 0.35rem 0.25rem">
										<i class="fas fa-lightbulb fa-fw"
										aria-hidden="true"></i>
										Opcode suggestions</a>
									</li>
								</ul>
							</div>
						</div>


					</aside>
				</div>
			</div>
			<hr>
			<footer>
				<p>
					This site is open source.
					<a href="https://github.com/sfzformat/sfzformat.github.io/edit/source/tutorials/range_extension.md">
					Improve this page</a>
				</p>
			</footer>

		</div>
		<script src="/assets/js/scripts.min.js"></script>		<script
			src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/highlight.min.js">
		</script>
		<script
			src="https://cdn.jsdelivr.net/gh/sfz/highlight.js@master/dist/sfz.min.js">
		</script>
		<script>hljs.configure({languages:["sfz"]});hljs.highlightAll();</script>
		<script defer
			type="text/javascript"
			src="https://cdnjs.cloudflare.com/ajax/libs/ekko-lightbox/5.3.0/ekko-lightbox.min.js">
		</script>
		<script>
		$(document).on('click', '[data-toggle="lightbox"]', function(event) {
			event.preventDefault();
			$(this).ekkoLightbox({
				alwaysShowClose: true
			});
		});
		</script>


	</body>
</html>
