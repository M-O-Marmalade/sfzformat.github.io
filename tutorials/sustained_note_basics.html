<!DOCTYPE html>
<html
	data-bs-theme="auto"
>
	<head>
		<meta charset="utf-8">

		<title>Sustained note basics - SFZ Format</title>

		<meta name="author" content="Karoryfer Samples and SFZ Format Team">
		<meta name="web-author" content="RedTide and SFZ Format Team">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<script src="/assets/js/color-modes.js"></script>

		<!-- Atom Feeds -->
		<link href="/atom.xml" rel="alternate" type="application/atom+xml" />

		<!-- Favicon Generator Icons -->
		<link rel="apple-touch-icon" sizes="152x152" href="/assets/ico/apple-touch-icon.png">
		<link rel="icon" type="image/png" sizes="32x32" href="/assets/ico/favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="16x16" href="/assets/ico/favicon-16x16.png">
		<link rel="manifest" href="/assets/ico/site.webmanifest">
		<link rel="mask-icon" href="/assets/ico/safari-pinned-tab.svg" color="#5bbad5">
		<link rel="shortcut icon" href="/assets/ico/favicon.ico">
		<meta name="msapplication-TileColor" content="#da532c">
		<meta name="msapplication-config" content="/assets/ico/browserconfig.xml">
		<meta name="theme-color" content="#ffffff">

		<!-- Stylesheets -->
		<link href="/assets/css/style.min.css" rel="stylesheet" media="screen">
		<link
			href="https://cdnjs.cloudflare.com/ajax/libs/ekko-lightbox/5.3.0/ekko-lightbox.css"
			rel="stylesheet"
		>
	<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/highlight.js@11.8.0/styles/github.min.css"
			disabled="disabled"
			id="hljs_light"
		/>
		<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/highlight.js@11.8.0/styles/github-dark-dimmed.min.css"
			disabled="disabled"
			id="hljs_dark"
		/>

		<!-- Font Awesome Icons -->
		<script defer src="https://use.fontawesome.com/releases/v5.11.2/js/solid.js"       integrity="sha384-Mf3ap7OwO+bjTkzM1RsrothLh38uKXvMWJ2TQPXGHqZcqfeI/cyCV+sfV0IDnBDq" crossorigin="anonymous"></script>
		<script defer src="https://use.fontawesome.com/releases/v5.11.2/js/brands.js"      integrity="sha384-b2GpqFrJizV0BUEdbrITdOA5HnxnlrErt7MlEERWd6NSJ32rHeibEvyyCuA13OAS" crossorigin="anonymous"></script>
		<script defer src="https://use.fontawesome.com/releases/v5.11.2/js/fontawesome.js" integrity="sha384-EYYaHDhIRoBhd/Ir/1fPnxg9rZLk/55lKtlNT5KrIcONoCS2kjf7ZWzMoCLLACeo" crossorigin="anonymous"></script>

	</head>

	<body>

		<button onclick="topFunction()" id="scrollButton" title="Go to top">Top</button>
		<div class="container">


			<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
				<symbol id="sun-fill" viewBox="0 0 16 16">
					<path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"/>
				</symbol>
				<symbol id="moon-stars-fill" viewBox="0 0 16 16">
					<path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"/>
					<path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"/>
				</symbol>
				<symbol id="circle-half" viewBox="0 0 16 16">
					<path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"/>
				</symbol>
				<symbol id="check2" viewBox="0 0 16 16">
					<path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"/>
				</symbol>
			</svg>

			<nav
				class="navbar navbar-expand-lg bg-dark" text-bg-dark
				data-bs-theme="dark"
			>
				<div class="container">

					<button
						class="navbar-toggler"
						type="button"
						data-bs-toggle="collapse"
						data-bs-target="#navbarContent"
						aria-controls="navbarContent"
						aria-expanded="false"
						aria-label="Toggle navigation"
					>
						<span class="navbar-toggler-icon"></span>
					</button>

					<a
						class="navbar-brand"
						href="/"
					>
						<img
							src="/assets/img/logo.png"
							width="120" height="30" class="d-inline-block align-top" alt=""
						/></a>

					<div class="collapse navbar-collapse" id="navbarContent">
						<ul class="navbar-nav me-auto mt-2 mt-lg-0">
								
							<li class="nav-item dropdown">
								<a
									class="nav-link dropdown-toggle"
									href="#"
									id="navbarSyntax"
									role="button"
									data-bs-toggle="dropdown"
									aria-expanded="false"
									aria-haspopup="true"
								>Syntax
								</a>
								<ul
									class="dropdown-menu"
									aria-labelledby="navbarSyntax"
								>
									<li>
										<a class="dropdown-item"
											href="/headers/"
										>
											Headers
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/opcodes/"
										>
											Opcodes
										</a>
									</li>
									<div class="dropdown-divider"></div>
									<li>
										<a class="dropdown-item"
											href="/modulations/"
										>
											Modulations
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/modulations/envelope_generators"
										>
											Envelope Generators
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/modulations/lfo"
										>
											LFO
										</a>
									</li>
									<div class="dropdown-divider"></div>
									<li>
										<a class="dropdown-item"
											href="/extensions/midi_ccs"
										>
											Extended MIDI CCs
										</a>
									</li>
									<div class="dropdown-divider"></div>
									<li>
										<a class="dropdown-item"
											href="/misc/categories"
										>
											Types & Categories
										</a>
									</li>
								</ul>
							</li>
								
							<li class="nav-item dropdown">
								<a
									class="nav-link dropdown-toggle"
									href="#"
									id="navbarSoftware"
									role="button"
									data-bs-toggle="dropdown"
									aria-expanded="false"
									aria-haspopup="true"
								>Software
								</a>
								<ul
									class="dropdown-menu"
									aria-labelledby="navbarSoftware"
								>
									<li>
										<a class="dropdown-item"
											href="/software/players"
										>
											Players
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/software/tools"
										>
											Tools
										</a>
									</li>
								</ul>
							</li>
								
							<li class="nav-item dropdown">
								<a
									class="nav-link dropdown-toggle"
									href="#"
									id="navbarTutorials"
									role="button"
									data-bs-toggle="dropdown"
									aria-expanded="false"
									aria-haspopup="true"
								>Tutorials
								</a>
								<ul
									class="dropdown-menu"
									aria-labelledby="navbarTutorials"
								>
									<li>
										<a class="dropdown-item"
											href="/tutorials/basics"
										>
											Basics
										</a>
									</li>
									<div class="dropdown-divider"></div>
									<li>
										<a class="dropdown-item"
											href="/tutorials/basic_sfz_file"
										>
											Basic / Template
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/sustained_note_basics"
										>
											Sustained Note Basics
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/vibrato"
										>
											Vibrato
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/legato"
										>
											Legato
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/unison"
										>
											Unison
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/range_extension"
										>
											Range Extension
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/modular_instruments"
										>
											Modular Instruments
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/subtractive_synths"
										>
											Subtractive Synthesizers
										</a>
									</li>
									<div class="dropdown-divider"></div>
									<li>
										<a class="dropdown-item"
											href="/tutorials/drum_basics"
										>
											Drum & Round Robin Basics
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/cymbal_muting"
										>
											Cymbal Muting
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/epic_drums"
										>
											Epic Drums
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/brush_stirs"
										>
											Brush Stirs
										</a>
									</li>
									<div class="dropdown-divider"></div>
									<li>
										<a class="dropdown-item"
											href="/tutorials/sfz1_modulations"
										>
											SFZ 1 Modulations
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/sfz2_modulations"
										>
											SFZ 2 Modulations
										</a>
									</li>
									<li>
										<a class="dropdown-item"
											href="/tutorials/lfo"
										>
											Pitch LFO Examples
										</a>
									</li>
									<div class="dropdown-divider"></div>
									<li>
										<a class="dropdown-item"
											href="/tutorials/videos"
										>
											Video Tutorials
										</a>
									</li>
								</ul>
							</li>
							<li class="nav-item">
								<a
									class="nav-link"
									href="https://sfzinstruments.github.io"
								>
									Instruments
								</a>
							</li>
							<li class="nav-item">
								<a
									class="nav-link"
									href="/news"
								>
									News
								</a>
							</li>
						</ul>
						<ul class="navbar-nav">
							<li class="nav-item">
								<a class="nav-link"
									href="/search/">
									Search</a>
							</li>
							<li class="nav-item dropdown">
								<button
									class="btn btn-link nav-link py-2 px-0 px-lg-2 dropdown-toggle d-flex align-items-center"
									id="bd-theme"
									type="button"
									aria-expanded="false"
									data-bs-toggle="dropdown"
									data-bs-display="static"
									aria-label="Toggle theme (auto)">
									<svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg>
									<span class="d-lg-none ms-2" id="bd-theme-text">Toggle theme</span>
								</button>
								<ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text">
									<li>
										<button
											type="button"
											class="dropdown-item d-flex align-items-center"
											data-bs-theme-value="light"
											aria-pressed="false">
											<svg class="bi me-2 opacity-50 theme-icon"><use href="#sun-fill"></use></svg>
											Light
											<svg class="bi ms-auto d-none"><use href="#check2"></use></svg>
										</button>
									</li>
									<li>
										<button
											type="button"
											class="dropdown-item d-flex align-items-center"
											data-bs-theme-value="dark"
											aria-pressed="false">
											<svg class="bi me-2 opacity-50 theme-icon"><use href="#moon-stars-fill"></use></svg>
											Dark
											<svg class="bi ms-auto d-none"><use href="#check2"></use></svg>
										</button>
									</li>
									<li>
										<button
											type="button"
											class="dropdown-item d-flex align-items-center active"
											data-bs-theme-value="auto"
											aria-pressed="true">
											<svg class="bi me-2 opacity-50 theme-icon"><use href="#circle-half"></use></svg>
											Auto
											<svg class="bi ms-auto d-none"><use href="#check2"></use></svg>
										</button>
									</li>
								</ul>
							</li>
						</ul>
					</div>
				</div>
			</nav>

			<div class="row mt-4" id="content">
				<div class="col-md-9">
					<article><h1>Sustained note basics</h1><p>We’ve covered the basic opcodes required to map simple drum instruments on
<a href="drum_basics">another page</a>, and here we are going to apply that
knowledge to pitched instruments, plus add more opcodes. Let’s say we want to
sample a folk flute whose lowest note is a D. If the lowest five notes are
D, E, F#, G and A, and there is one sample available for each note, they could
be mapped like this:</p>

<pre><code>&lt;region&gt;key=50 sample=d4.wav
&lt;region&gt;key=52 sample=e4.wav
&lt;region&gt;key=54 sample=f#4.wav
&lt;region&gt;key=55 sample=g4.wav
&lt;region&gt;key=57 sample=a4.wav
</code></pre>

<p>This would work well enough to make a sound when a MIDI note corresponding to
one of the sampled pitches is played. However, playing notes inbetween
the D and E, or E and F#, would mean no sound. We can “stretch” one of the
neighboring notes to cover that D# and that F using the
<a href="/opcodes/lokey">lokey / hikey</a> and <a href="/opcodes/pitch_keycenter">pitch_keycenter</a> opcodes instead of key.
If a sample does not need to cover multiple notes, it can still use key. Whether
to use the D or E sample to cover the D# in our example is a judgment call -
which sounds better?</p>

<pre><code>&lt;region&gt;lokey=50 hikey=51 pitch_keycenter=50 sample=d4.wav
&lt;region&gt;lokey=52 hikey=53 pitch_keycenter=52 sample=e4.wav
&lt;region&gt;key=54 sample=f#4.wav
&lt;region&gt;lokey=55 hikey=55 pitch_keycenter=56 sample=g4.wav
&lt;region&gt;key=57 sample=a4.wav
</code></pre>

<p>The samples will play as long as a note is held, but when the note is released,
they will end suddenly, which is probably not realistic for a flute sound, or
indeed most other instruments. We’ll need to apply a volume envelope with a
release time set, which can be applied to all regions.
The <a href="/opcodes/ampeg_release">ampeg_release</a> opcode accomplishes this.</p>

<pre><code>&lt;global&gt;ampeg_release=0.3

&lt;region&gt;lokey=50 hikey=51 pitch_keycenter=50 sample=d4.wav
&lt;region&gt;lokey=52 hikey=53 pitch_keycenter=52 sample=e4.wav
&lt;region&gt;key=54 sample=f#4.wav
&lt;region&gt;key=55 sample=g4.wav
</code></pre>

<p>If we have samples at various dynamics, such as quiet and loud, we could use
note velocity to choose which sample is played - however, while this makes
perfect sense for drum hits or piano notes, with instruments such as flute or
violin, it’s possible for the player to vary the dynamic level while a note is
being sustained. This can be simulated with the
<a href="/opcodes/xfin_loccN">xfin_loccN / xfin_hiccN</a> and <a href="/opcodes/xfout_loccN">xfout_loccN / xfout_hiccN</a> opcodes. Using only the
D4 and E4 samples as an example, and controlling the dynamics with CC1 (mod wheel).
The <a href="/opcodes/amp_veltrack">amp_veltrack</a> opcode is set to 0, so that velocity does not affect volume.</p>

<pre><code>&lt;global&gt;ampeg_release=0.3 amp_veltrack=0

&lt;group&gt;lokey=50 hikey=51 pitch_keycenter=50
&lt;region&gt;sample=d4_p.wav xfin_locc1=0 xfin_hicc1=42 xfout_locc1=43 xfout_hicc1=85
&lt;region&gt;sample=d4_mf.wav xfin_locc1=43 xfin_hicc1=85 xfout_locc1=86 xfout_hicc1=127
&lt;region&gt;sample=d4_f.wav xfin_locc1=86 xfin_hicc1=127
&lt;group&gt;lokey=52 hikey=53 pitch_keycenter=52
&lt;region&gt;sample=e4_p.wav xfin_locc1=0 xfin_hicc1=42 xfout_locc1=43 xfout_hicc1=85
&lt;region&gt;sample=e4_mf.wav xfin_locc1=43 xfin_hicc1=85 xfout_locc1=86 xfout_hicc1=127
&lt;region&gt;sample=e4_f.wav xfin_locc1=86 xfin_hicc1=127
</code></pre>

<p>Now, CC1 would first fade in the quiet sample when it was between 0 and 42.
From 43 to 85, the quiet sample is faded out and the medium sample faded in.
From 86 to the max value of 127, the medium sample is faded out while the loud
sample fades in. If we have multiple techniques or articulation sampled, for
example regular sustains and fluttertongue sustains, we need a way to switch
between them. Each could be its own independent and complete SFZ file, and we
could just load the desired file into the player, but for convenience,
especially in live performance, it’s good to load both at once and have a way of
switching between them. One way is <a href="/opcodes/loccN">loccN / hiccN</a> where which sample is triggered
for a particular note depends on the value of a MIDI CC - let’s use MIDI CC 11.
Notice that the fluttertongue samples in this example have fewer dynamic layers
than the main sustain samples - it’s common for the “core” articulations of an
instrument to be sampled in more detail, and the SFZ format is flexible enough
to allow this, or even allow different amounts of dynamic layers or round robins
for different notes within the same articulation.</p>

<pre><code>&lt;global&gt;ampeg_release=0.3 amp_veltrack=0

&lt;group&gt;lokey=50 hikey=51 pitch_keycenter=50 hicc11=63
&lt;region&gt;sample=d4_p.wav xfin_locc1=0 xfin_hicc1=42 xfout_locc1=43 xfout_hicc1=85
&lt;region&gt;sample=d4_mf.wav xfin_locc1=43 xfin_hicc1=85 xfout_locc1=86 xfout_hicc1=127
&lt;region&gt;sample=d4_f.wav xfin_locc1=86 xfin_hicc1=127
&lt;group&gt;lokey=52 hikey=53 pitch_keycenter=52 hicc11=63
&lt;region&gt;sample=e4_p.wav xfin_locc1=0 xfin_hicc1=42 xfout_locc1=43 xfout_hicc1=85
&lt;region&gt;sample=e4_mf.wav xfin_locc1=43 xfin_hicc1=85 xfout_locc1=86 xfout_hicc1=127
&lt;region&gt;sample=e4_f.wav xfin_locc1=86 xfin_hicc1=127
&lt;group&gt;lokey=50 hikey=51 pitch_keycenter=50 locc11=64
&lt;region&gt;sample=d4_ft_p.wav xfin_locc1=0 xfin_hicc1=63 xfout_locc1=64 xfout_hicc1=127
&lt;region&gt;sample=d4_ft_f.wav xfin_locc1=64 xfin_hicc1=127
&lt;group&gt;lokey=52 hikey=53 pitch_keycenter=52 locc11=64
&lt;region&gt;sample=e4_ft_p.wav xfin_locc1=0 xfin_hicc1=63 xfout_locc1=64 xfout_hicc1=127
&lt;region&gt;sample=e4_ft_f.wav xfin_locc1=64 xfin_hicc1=127
</code></pre>

<p>Another, probably more common, way is to use keyswitches. If we define the
keyswitch range as the C and C# below our lowest D using
<a href="/opcodes/sw_lokey">sw_lokey / sw_hikey</a>, we can then use <a href="/opcodes/sw_last">sw_last</a> to select articulations.</p>

<pre><code>&lt;global&gt;ampeg_release=0.3 amp_veltrack=0 sw_lokey=48 sw_hikey=49

&lt;group&gt;lokey=50 hikey=51 pitch_keycenter=50 sw_last=48
&lt;region&gt;sample=d4_p.wav xfin_locc1=0 xfin_hicc1=42 xfout_locc1=43 xfout_hicc1=85
&lt;region&gt;sample=d4_mf.wav xfin_locc1=43 xfin_hicc1=85 xfout_locc1=86 xfout_hicc1=127
&lt;region&gt;sample=d4_f.wav xfin_locc1=86 xfin_hicc1=127
&lt;group&gt;lokey=52 hikey=53 pitch_keycenter=52 sw_last=48
&lt;region&gt;sample=e4_p.wav xfin_locc1=0 xfin_hicc1=42 xfout_locc1=43 xfout_hicc1=85
&lt;region&gt;sample=e4_mf.wav xfin_locc1=43 xfin_hicc1=85 xfout_locc1=86 xfout_hicc1=127
&lt;region&gt;sample=e4_f.wav xfin_locc1=86 xfin_hicc1=127
&lt;group&gt;lokey=50 hikey=51 pitch_keycenter=50 sw_last=49
&lt;region&gt;sample=d4_ft_p.wav xfin_locc1=0 xfin_hicc1=63 xfout_locc1=64 xfout_hicc1=127
&lt;region&gt;sample=d4_ft_f.wav xfin_locc1=64 xfin_hicc1=127
&lt;group&gt;lokey=52 hikey=53 pitch_keycenter=52 sw_last=49
&lt;region&gt;sample=e4_ft_p.wav xfin_locc1=0 xfin_hicc1=63 xfout_locc1=64 xfout_hicc1=127
&lt;region&gt;sample=e4_ft_f.wav xfin_locc1=64 xfin_hicc1=127
</code></pre>

<p>There are other possibilities - for example, since velocity is not needed to
control dynamics, we could use that to select articulations using
<a href="/opcodes/lovel">lovel / hivel</a>, for example. However, it’ is quite common,
especially with string instruments, to use a MIDI CC to control the dynamics of
sustained articulations, and velocity to control the dynamics of short
articulations such as staccato. In those cases, the short articulations could
use amp_veltrack set to 100 instead of 0, and generally be mapped in the same
way as <a href="drum_basics">the drums we’ve discussed before</a>. The flute is
a monophonic instrument in reality - you can’t play chords on it, while you can
using our SFZ here. For more realism, playing a note on this flute should mute
any previously playing notes. To make an instrument which can only play one note
at a time, the <a href="/opcodes/group">group</a> and <a href="/opcodes/off_by">off_by</a> opcodes can be used.
Although these can be used in more complex scenarios, for a
monophonic instrument with no multiple microphone positions sampled, it’s enough
to put all samples in the same group, and have that group muted whenever a new
note from that group is played.</p>

<pre><code>&lt;global&gt;ampeg_release=0.3 amp_veltrack=0 sw_lokey=48 sw_hikey=49 group=1 off_by=1

&lt;group&gt;lokey=50 hikey=51 pitch_keycenter=50 sw_last=48
&lt;region&gt;sample=d4_p.wav xfin_locc1=0 xfin_hicc1=42 xfout_locc1=43 xfout_hicc1=85
&lt;region&gt;sample=d4_mf.wav xfin_locc1=43 xfin_hicc1=85 xfout_locc1=86 xfout_hicc1=127
&lt;region&gt;sample=d4_f.wav xfin_locc1=86 xfin_hicc1=127
&lt;group&gt;lokey=52 hikey=53 pitch_keycenter=52 sw_last=48
&lt;region&gt;sample=e4_p.wav xfin_locc1=0 xfin_hicc1=42 xfout_locc1=43 xfout_hicc1=85
&lt;region&gt;sample=e4_mf.wav xfin_locc1=43 xfin_hicc1=85 xfout_locc1=86 xfout_hicc1=127
&lt;region&gt;sample=e4_f.wav xfin_locc1=86 xfin_hicc1=127
&lt;group&gt;lokey=50 hikey=51 pitch_keycenter=50 sw_last=49
&lt;region&gt;sample=d4_ft_p.wav xfin_locc1=0 xfin_hicc1=63 xfout_locc1=64 xfout_hicc1=127
&lt;region&gt;sample=d4_ft_f.wav xfin_locc1=64 xfin_hicc1=127
&lt;group&gt;lokey=52 hikey=53 pitch_keycenter=52 sw_last=49
&lt;region&gt;sample=e4_ft_p.wav xfin_locc1=0 xfin_hicc1=63 xfout_locc1=64 xfout_hicc1=127
&lt;region&gt;sample=e4_ft_f.wav xfin_locc1=64 xfin_hicc1=127
</code></pre>

<p>However, this cuts off the note suddenly, creating a gap before the next note
can reach full volume. That problem can be fixed by setting <a href="/opcodes/off_mode">off_mode</a>
to normal, which will make the notes being muted fade out gradually over the
duration previously specified with the ampeg_release opcode.</p>

<pre><code>&lt;global&gt;ampeg_release=0.3 amp_veltrack=0 sw_lokey=48 sw_hikey=49

group=1 off_by=1 off_mode=normal
&lt;group&gt;lokey=50 hikey=51 pitch_keycenter=50 sw_last=48
&lt;region&gt;sample=d4_p.wav xfin_locc1=0 xfin_hicc1=42 xfout_locc1=43 xfout_hicc1=85
&lt;region&gt;sample=d4_mf.wav xfin_locc1=43 xfin_hicc1=85 xfout_locc1=86 xfout_hicc1=127
&lt;region&gt;sample=d4_f.wav xfin_locc1=86 xfin_hicc1=127
&lt;group&gt;lokey=52 hikey=53 pitch_keycenter=52 sw_last=48
&lt;region&gt;sample=e4_p.wav xfin_locc1=0 xfin_hicc1=42 xfout_locc1=43 xfout_hicc1=85
&lt;region&gt;sample=e4_mf.wav xfin_locc1=43 xfin_hicc1=85 xfout_locc1=86 xfout_hicc1=127
&lt;region&gt;sample=e4_f.wav xfin_locc1=86 xfin_hicc1=127
&lt;group&gt;lokey=50 hikey=51 pitch_keycenter=50 sw_last=49
&lt;region&gt;sample=d4_ft_p.wav xfin_locc1=0 xfin_hicc1=63 xfout_locc1=64 xfout_hicc1=127
&lt;region&gt;sample=d4_ft_f.wav xfin_locc1=64 xfin_hicc1=127
&lt;group&gt;lokey=52 hikey=53 pitch_keycenter=52 sw_last=49
&lt;region&gt;sample=e4_ft_p.wav xfin_locc1=0 xfin_hicc1=63 xfout_locc1=64 xfout_hicc1=127
&lt;region&gt;sample=e4_ft_f.wav xfin_locc1=64 xfin_hicc1=127
</code></pre>

<p>This is enough to make a basic monophonic wind instrument, vocal, or other
monophonic instrument. There are more possibilities - better legato, vibrato
emulation, multiple microphone positions etc. - which we’ll describe later in
another part of this guide. Together with the information covered in <a href="drum_basics">drum basics</a>
earlier, this should also be enough to make a basic sampled piano or guitar.</p>
					</article>
				</div>
				<div class="col-md-3">
					<aside>

	
						<div class="card border-dark mb-3">
							<div class="card-header text-light"
								style="background-color:#222">
								<i class="fas fa-eye"
									aria-hidden="true"></i>
								Follow us
							</div>
							<div class="card-body" style="padding: 0.5rem">
								<ul class="nav nav-pills flex-column">
	<li class="nav-item">
										<a class="nav-link" href="https://discord.gg/t7nrZ6d"
											title="Discord Chat" style="padding: 0.35rem 0.25rem">
										<i class="fab fa-discord fa-fw"
										aria-hidden="true"></i>
										Discord Chat</a>
									</li>
	<li class="nav-item">
										<a class="nav-link" href="https://kiwiirc.com/nextclient/#irc://irc.libera.chat:+6697/#sfzformat"
											title="Internet Relay Chat" style="padding: 0.35rem 0.25rem">
										<i class="fas fa-hashtag fa-fw"
										aria-hidden="true"></i>
										IRC</a>
									</li>
	<li class="nav-item">
										<a class="nav-link" href="https://github.com/sfzformat/"
											title="GitHub Organization" style="padding: 0.35rem 0.25rem">
										<i class="fab fa-github fa-fw"
										aria-hidden="true"></i>
										GitHub Organization</a>
									</li>
	<li class="nav-item">
										<a class="nav-link" href="/atom.xml"
											title="News Atom Feed" style="padding: 0.35rem 0.25rem">
										<i class="fas fa-rss fa-fw"
										aria-hidden="true"></i>
										News Atom Feed</a>
									</li>
	
								</ul>
							</div>
						</div>

						<div class="card border-dark mb-3">
							<div class="card-header text-light"
								style="background-color:#222">
								<i class="fas fa-link"
									aria-hidden="true"></i>
								Quick links
							</div>
							<div class="card-body" style="padding: 0.5rem">
								<ul class="nav nav-pills flex-column">
	<li class="nav-item">
										<a class="nav-link" href="/legacy"
											title="Old rgc:audio SFZ page" style="padding: 0.35rem 0.25rem">
										<i class="fas fa-book fa-fw"
										aria-hidden="true"></i>
										Old rgc:audio SFZ page</a>
									</li>
	<li class="nav-item">
										<a class="nav-link" href="http://www.drealm.info/sfz/"
											title="Peter L. Jones' SFZ page" style="padding: 0.35rem 0.25rem">
										<i class="fas fa-book fa-fw"
										aria-hidden="true"></i>
										Peter L. Jones' SFZ page</a>
									</li>
	<li class="nav-item">
										<a class="nav-link" href="https://www.kvraudio.com/forum/viewtopic.php?f=42&t=508861"
											title="KVR Forum SFZ post" style="padding: 0.35rem 0.25rem">
										<i class="fas fa-users fa-fw"
										aria-hidden="true"></i>
										KVR Forum SFZ post</a>
									</li>
	<li class="nav-item">
										<a class="nav-link" href="https://www.plogue.com/plgfrms/viewforum.php?f=14"
											title="Plogue Forum" style="padding: 0.35rem 0.25rem">
										<i class="fas fa-users fa-fw"
										aria-hidden="true"></i>
										Plogue Forum</a>
									</li>
	<li class="nav-item">
										<a class="nav-link" href="https://github.com/sfz/tests/"
											title="rgc:audio SFZ test suite" style="padding: 0.35rem 0.25rem">
										<i class="fas fa-download fa-fw"
										aria-hidden="true"></i>
										rgc:audio SFZ test suite</a>
									</li>
	<li class="nav-item">
										<a class="nav-link" href="https://github.com/sfz/opcode-suggestions/"
											title="Opcode suggestions" style="padding: 0.35rem 0.25rem">
										<i class="fas fa-lightbulb fa-fw"
										aria-hidden="true"></i>
										Opcode suggestions</a>
									</li>
	
								</ul>
							</div>
						</div>



					</aside>
				</div>
			</div>
			<hr>
			<footer>
				<p>
					This site is open source.
					<a href="https://github.com/sfzformat/sfzformat.github.io/edit/source/tutorials/sustained_note_basics.md">
					Improve this page</a>
				</p>
			</footer>

		</div>
		<script src="/assets/js/scripts.min.js"></script>		<script
			src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/highlight.min.js">
		</script>
		<script
			src="https://cdn.jsdelivr.net/gh/sfz/highlight.js@master/dist/sfz.min.js">
		</script>
		<script>hljs.configure({languages:["sfz"]});hljs.highlightAll();</script>
		<script defer
			type="text/javascript"
			src="https://cdnjs.cloudflare.com/ajax/libs/ekko-lightbox/5.3.0/ekko-lightbox.min.js">
		</script>
		<script>
		$(document).on('click', '[data-toggle="lightbox"]', function(event) {
			event.preventDefault();
			$(this).ekkoLightbox({
				alwaysShowClose: true
			});
		});
		</script>


	</body>
</html>
